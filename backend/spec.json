{"openapi":"3.0.0","paths":{"/line/webhook":{"post":{"operationId":"LineController_findAll","summary":"","description":"LINEサーバーから呼び出される","parameters":[{"name":"X-Line-Signature","in":"header","description":"LINEプラットフォームから送信されたことを確認するための署名（x-line-signatureでも可）","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateLineDto"}}}},"responses":{"200":{"description":""}},"tags":["LINE"],"security":[{"bearer":[]}]}},"/setting/token":{"post":{"operationId":"SettingController_saveToken","summary":"","description":"LINE チャネルID・トークンを保存する","parameters":[{"name":"Bearer","in":"header","description":"Firebase IDトークン","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateSettingDto"}}}},"responses":{"201":{"description":""}},"tags":["設定"]},"get":{"operationId":"SettingController_getToken","summary":"","description":"LINE チャネルID・トークンを保存済みであるかを返す","parameters":[{"name":"Bearer","in":"header","description":"Firebase IDトークン","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["設定"]}},"/setting/friend":{"post":{"operationId":"SettingController_updateFriend","summary":"","description":"友だち情報を更新する","parameters":[{"name":"Bearer","in":"header","description":"Firebase IDトークン","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateFriendDto"}}}},"responses":{"201":{"description":""}},"tags":["設定"]}},"/events":{"post":{"operationId":"EventsController_create","summary":"","description":"イベントを作成し、LINEで通知する","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateEventDto"}}}},"responses":{"201":{"description":""}},"tags":["イベント"],"security":[{"bearer":[]}]},"get":{"operationId":"EventsController_findAll","summary":"","description":"イベント一覧を取得する","parameters":[],"responses":{"default":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseEventListDto"}}}}},"tags":["イベント"],"security":[{"bearer":[]}]}},"/events/{id}":{"get":{"operationId":"EventsController_findOne","summary":"","description":"個別のイベントを取得する","parameters":[{"name":"id","required":true,"in":"path","description":"イベントID","schema":{"type":"string"}}],"responses":{"default":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseEventDto"}}}}},"tags":["イベント"],"security":[{"bearer":[]}]}}},"info":{"title":"LEVAS API","description":"","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"CreateLineDto":{"type":"object","properties":{"destination":{"type":"string"}},"required":["destination"]},"CreateSettingDto":{"type":"object","properties":{"channelID":{"type":"string","description":"LINE チャネルID"},"channelSecret":{"type":"string","description":"LINE チャネルシークレット"}},"required":["channelID","channelSecret"]},"UpdateFriendDto":{"type":"object","properties":{"userID":{"type":"string","description":"ユーザーID"},"userName":{"type":"string","description":"ユーザー名"},"memo":{"type":"string","description":"メモ"}},"required":["userID","userName","memo"]},"CreateEventDto":{"type":"object","properties":{"message":{"type":"string","description":"LINE 送信テキスト"},"leftButtonLabel":{"type":"string","description":"LINE 左側ボタンラベル名"},"rightButtonLabel":{"type":"string","description":"LINE 右側ボタンラベル名"},"eventName":{"type":"string","description":"イベント名"}},"required":["message","leftButtonLabel","rightButtonLabel","eventName"]},"EventItem":{"type":"object","properties":{"eventID":{"type":"string","description":"イベントID"},"eventName":{"type":"string","description":"イベント名"},"createdAt":{"format":"date-time","type":"string","description":"作成日時"}},"required":["eventID","eventName","createdAt"]},"ResponseEventListDto":{"type":"object","properties":{"events":{"description":"イベント一覧","example":[{"eventId":"eventId1","eventName":"イベント名1","createdAt":"2022-06-09T15:00:00.000Z"},{"eventId":"eventId2","eventName":"イベント名2","createdAt":"2022-06-13T15:00:00.000Z"}],"type":"array","items":{"$ref":"#/components/schemas/EventItem"}}},"required":["events"]},"Answer":{"type":"object","properties":{"userName":{"type":"string","description":"ユーザー名"},"Attendance":{"type":"string","description":"出席可否"},"date":{"format":"date-time","type":"string","description":"登録日時"}},"required":["userName","Attendance","date"]},"ResponseEventDto":{"type":"object","properties":{"message":{"type":"string","description":"LINE 送信テキスト"},"leftButtonLabel":{"type":"string","description":"LINE 左側ボタンラベル名"},"rightButtonLabel":{"type":"string","description":"LINE 右側ボタンラベル名"},"answers":{"description":"出席一覧","type":"array","items":{"$ref":"#/components/schemas/Answer"}}},"required":["message","leftButtonLabel","rightButtonLabel","answers"]}}}}